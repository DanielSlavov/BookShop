(function(t){function e(e){for(var s,n,o=e[0],c=e[1],l=e[2],u=0,f=[];u<o.length;u++)n=o[u],i[n]&&f.push(i[n][0]),i[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(f.length)f.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},i={app:0},r=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),i=a.n(s);i.a},"30d6":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=r(t);return a(e)}function r(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="4678"},"4c4a":function(t,e,a){t.exports=a.p+"img/banner.a59dba38.jpg"},"4e78":function(t,e,a){"use strict";var s=a("5289"),i=a.n(s);i.a},5289:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=a("2f62"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view",{attrs:{name:"productView"}}),a("navbar",{attrs:{id:"navbar"}}),a("div",{staticClass:"columns ",attrs:{id:"wrapper"}},[a("sidebar",{staticClass:"column is-one-fifth",attrs:{id:"sidebar"},on:{changeFilter:t.changeFilter}}),a("router-view",{staticClass:"column is-8",attrs:{id:"view"}})],1),t.showLoginModal?a("login-modal"):t._e(),t.showRegisterModal?a("register-modal"):t._e(),a("notifications",{attrs:{position:"top center"}})],1)},n=[],o=a("cebc"),c=a("8c4f"),l=a("5176"),d=a.n(l),u=(a("ac6a"),a("f499")),f=a.n(u),p=a("bc3a"),m=a.n(p),v=a("a1bc"),h=a.n(v),b={getProducts:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="/getProducts",a={};return t&&(a.category=t),m.a.get(h.a.API_URL+e,{params:a,headers:{"Content-Type":"application/json"}})},getProduct:function(t){return m.a.get(h.a.API_URL+"/getProduct?product_id="+t)},getCategories:function(){return m.a.get(h.a.API_URL+"/getCategories")},addProduct:function(t){var e="/addProduct";return m.a.post(h.a.API_URL+e,t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+localStorage["token"]}})},removeProduct:function(t){var e="/removeProduct";return m.a.post(h.a.API_URL+e,{id:t},{headers:{Authorization:"Bearer "+localStorage["token"]}})}};s["default"].use(i["a"]);var g,C,_=function(t){localStorage["cart"]=f()(t)},j=function(){return void 0!=localStorage["cart"]?JSON.parse(localStorage["cart"]):[]},w=function(){return{filter:{},showLoginModal:!1,showRegisterModal:!1,products:[],currentProduct:!1,cart:[],currentUser:!1,category:!1}},y=new i["a"].Store({state:{filter:{},showLoginModal:!1,showRegisterModal:!1,products:[],currentProduct:!1,cart:j(),currentUser:!1,category:!1,section:"home"},mutations:{showLoginModal:function(t){t.showLoginModal=!0},hideLoginModal:function(t){t.showLoginModal=!1},showRegisterModal:function(t){t.showRegisterModal=!0},hideRegisterModal:function(t){t.showRegisterModal=!1},addToCart:function(t,e){localStorage["token"]&&(t.cart.push(e),_(t.cart))},setCategory:function(t,e){t.category=e,this.commit("fetchProducts")},setCurrentUser:function(t,e){t.currentUser=e},setCurrentProduct:function(t,e){return 0==e?(t.currentProduct=!1,!0):(t.products.forEach(function(a){if(a.id==e)return t.currentProduct=a,!0}),!1)},setSection:function(t,e){"home"!=e&&"user"!=e||(t.section=e)},removeCurrentProduct:function(t){t.currentProduct=!1},removeCurrentUser:function(t){localStorage.clear(),t.currentUser=!1,Ct.push("/")},removeFromCart:function(t,e){t.cart.splice(e,1),_(t.cart)},clearCart:function(t){t.cart=[]},resetState:function(t){d()(t,w())},fetchProducts:function(t){b.getProducts(t.category).then(function(e){t.products=e.data})},fetchAllProducts:function(t){t.category=!1,b.getProducts().then(function(e){t.products=e.data})}},actions:{}}),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"columns is-multiline"},t._l(t.products,function(e){return a("div",{key:e.id,staticClass:"card column is-3",on:{click:function(a){return t.displayProduct(e.id)}}},[a("div",{staticClass:"card-image"},[a("figure",{staticClass:"image is-2by2"},[a("img",{attrs:{src:t.api+"/img/"+e.image,alt:"Placeholder image"}})])]),a("div",{staticClass:"card-content"},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-content"},[a("strong",{staticClass:"is-4"},[t._v(t._s(e.name))])])]),a("div",{staticClass:"content"},[a("p",[t._v(t._s(e.category))]),a("br"),a("p",{staticClass:"subtitle is-6"},[t._v(t._s(e.price)+".00 лв.")])])])])}),0)])},P=[],E={name:"Products",components:{},data:function(){return{books:[],api:h.a.API_URL,showModal:!1,productToShow:{}}},computed:Object(i["c"])(["products"]),created:function(){this.fetchProducts()},watch:{filter:function(t){this.filter=t,this.fetchBooks(t)}},methods:Object(o["a"])({},Object(i["b"])(["setCurrentProduct","fetchProducts"]),{displayProduct:function(t){Ct.push("product/"+t)},hideProduct:function(){this.showModal=!1,this.productToShow={}}})},O=E,x=(a("4e78"),a("2877")),U=Object(x["a"])(O,k,P,!1,null,"d14af0e8",null),L=U.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper columns "}},[a("table",{staticClass:"table column is-5"},[t._m(0),a("tbody",t._l(t.cart,function(e,s){return a("tr",{key:e.id},[a("th",[t._v(t._s(s+1))]),a("td",[a("a",{attrs:{href:"#/product/"+e.id}},[t._v(t._s(e.name))])]),a("td",[t._v(t._s(e.price)+".00лв")]),a("td"),a("td"),a("td"),a("td"),a("td"),a("td"),a("td",[a("i",{staticClass:"column is-1 fas fa-times",on:{click:function(e){return t.removeFromCart(s)}}})])])}),0)]),!t.ordering&&t.cart.length>0?a("a",{staticClass:"button is-primary",on:{click:function(e){t.ordering=!0}}},[t._v("Поръчване")]):t._e(),t.ordering&&t.cart.length>0?a("div",{staticClass:"column is-7",attrs:{id:"form"}},[a("div",{staticClass:"field is-horizontal"},[t._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstName,expression:"firstName"}],staticClass:"input",attrs:{type:"text",placeholder:"Име"},domProps:{value:t.firstName},on:{input:function(e){e.target.composing||(t.firstName=e.target.value)}}})])]),a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastName,expression:"lastName"}],staticClass:"input ",class:{"is-danger":""==t.lastName},attrs:{type:"email",placeholder:"Фамилия"},domProps:{value:t.lastName},on:{input:function(e){e.target.composing||(t.lastName=e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(2),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field is-expanded"},[a("div",{staticClass:"field has-addons"},[a("p",{staticClass:"control"}),a("p",{staticClass:"control is-expanded"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"input",attrs:{type:"tel"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(3),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.place,expression:"place"}],staticClass:"input",attrs:{type:"text",placeholder:"Град/Село"},domProps:{value:t.place},on:{input:function(e){e.target.composing||(t.place=e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(4),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"input",attrs:{type:"text",placeholder:"квартал/улица/номер/вх/ап"},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(5),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.details,expression:"details"}],staticClass:"textarea",attrs:{placeholder:"Не е задължително"},domProps:{value:t.details},on:{input:function(e){e.target.composing||(t.details=e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label"}),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:function(e){return t.order()}}},[t._v("\n              Поръчване\n            ")])])])])])]):t._e()])},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[a("abbr",{attrs:{title:"Position"}})]),a("th",[t._v("Име")]),a("th",[a("abbr",{attrs:{title:"Played"}},[t._v("Цена")])]),a("th",[a("abbr",{attrs:{title:"Won"}})]),a("th",[a("abbr",{attrs:{title:"Drawn"}})]),a("th",[a("abbr",{attrs:{title:"Lost"}})]),a("th",[a("abbr",{attrs:{title:"Lost"}})]),a("th",[a("abbr",{attrs:{title:"Lost"}})]),a("th",[a("abbr",{attrs:{title:"Lost"}})]),a("th",[a("abbr",{attrs:{title:"Goals for"}},[t._v("Премахване")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Имена")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Телефон")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Населено място")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Адрес")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Доп. Инфо.")])])}],R=(a("7f7f"),a("28a5"),{getPastOrders:function(){var t=localStorage["token"],e="/getOrders";return m.a.get(h.a.API_URL+e,{headers:{"Content-Type":"application/json",authorization:"Bearer "+t}})},getAllOrders:function(){var t=localStorage["token"],e="/getAllOrders";return m.a.get(h.a.API_URL+e,{headers:{"Content-Type":"application/json",authorization:"Bearer "+t}})},makeOrder:function(t,e,a,s,i,r,n,o){var c=localStorage["token"],l="/makeOrder";return m.a.post(h.a.API_URL+l,{user_id:t,price:e,details:a,products:s,place:i,address:r,phone:n,name:o},{headers:{"Content-Type":"application/json",authorization:"Bearer "+c}})},completeOrder:function(t){var e=localStorage["token"];return m.a.post(h.a.API_URL+"/orderSent",{order_id:t},{headers:{"Content-Type":"application/json",authorization:"Bearer "+e}})},getProduct:function(t){return m.a.get(h.a.API_URL+"/getBookByProductId?id="+t)},getCategories:function(){return m.a.get(h.a.API_URL+"/getCategories")}}),A={name:"Cart",computed:Object(i["c"])(["cart","currentUser"]),methods:Object(o["a"])({},Object(i["b"])(["removeFromCart","clearCart"]),{order:function(){var t=this,e=0;this.cart.forEach(function(t){e+=t.price}),R.makeOrder(this.currentUser.id,e,this.details,this.cart,this.place,this.address,this.phone,this.firstName+" "+this.lastName).then(function(e){t.$notify({type:"success",text:"Поръчката е направена!"}),t.clearCart(),Ct.push("/")})}}),data:function(){return{ordering:!1,firstName:"",lastName:"",phone:"",place:"",address:"",details:""}},created:function(){this.firstName=this.currentUser.name.split(" ")[0],this.lastName=this.currentUser.name.split(" ")[1]}},S=A,z=Object(x["a"])(S,$,M,!1,null,"76165993",null),N=z.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("table",{staticClass:"table column is-12"},[t._m(0),a("tbody",t._l(t.pastOrders,function(e,s){return a("tr",{key:e.id},[a("th"),a("td",t._l(e.products,function(e){return a("a",{key:e.id,attrs:{href:"#/product/"+e.id}},[t._v(t._s(e.name)),a("br")])}),0),a("td",[t._v(t._s(e.date.substring(0,10)))]),a("td",[t._v(t._s(e.price)+".00лв")])])}),0)])])},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[a("abbr")]),a("th",[t._v("Артикули")]),a("th",[a("abbr",[t._v("Дата")])]),a("th",[a("abbr",[t._v("На Стойност")])]),a("th",[a("abbr")])])])}],I={name:"PastOrders",data:function(){return{pastOrders:[]}},created:function(){this.getPastOrders()},methods:{getPastOrders:function(){var t=this;R.getPastOrders().then(function(e){t.pastOrders=e.data.reverse()})}}},G=I,B=Object(x["a"])(G,D,T,!1,null,null,null),F=B.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal is-active"},[a("div",{staticClass:"modal-background",on:{click:function(e){return e.stopPropagation(),t.closeModal(e)}}}),a("div",{staticClass:" container columns "},[a("div",{staticClass:"column is-4 "},[a("figure",{staticClass:"image"},[a("img",{attrs:{src:t.api+"/img/"+t.currentProduct.image,alt:"Placeholder image"}})])]),a("div",{staticClass:"content column is-6 is-offset-1"},[a("strong",[t._v(t._s(t.currentProduct.name))]),a("br"),t._l(t.currentProduct.Authors,function(e,s){return a("p",{key:s},[t._v("\n        "+t._s(e)+"\n      ")])}),a("strong",{attrs:{id:"price"}},[t._v(t._s(t.currentProduct.price)+".00лв")]),a("span",{staticClass:"icon has-text-info",attrs:{id:"cart"}},[a("a",{staticClass:"button is-link",on:{click:function(e){return t._addToCart(t.currentProduct)}}},[a("i",{staticClass:"fas fa-cart-plus"}),t._v("КУПИ")])]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),t._v("\n\n      "+t._s(t.currentProduct.description)+"\n    ")],2)]),a("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:t.closeModal}})])},J=[],V={name:"ProductView",data:function(){return{api:h.a.API_URL,currentProduct:{}}},props:["id"],computed:Object(i["c"])(["products","currentUser"]),methods:Object(o["a"])({},Object(i["b"])(["addToCart","removeCurrentProduct","showLoginModal"]),{closeModal:function(){this.removeCurrentProduct(),Ct.back()},_addToCart:function(){this.currentUser?(this.addToCart(this.currentProduct),this.$notify({type:"success",text:"Добавено в количката"})):this.showLoginModal()}}),created:function(){var t=this,e=!1;this.products.forEach(function(a){t.id==a.id&&(t.currentProduct=a,e=!0)}),e||b.getProduct(this.id).then(function(e){t.currentProduct=e.data[0]}),window.addEventListener("keydown",function(e){"Escape"==e.key&&(t.removeCurrentProduct(),Ct.back())},{once:!0})}},q=V,Z=(a("99b2"),Object(x["a"])(q,W,J,!1,null,"25bcd764",null)),H=Z.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper columns "}},[a("table",{staticClass:"table column is-12"},[t._m(0),a("tbody",t._l(t.orders,function(e,s){return a("tr",{key:e.id},[a("td",t._l(e.products,function(e){return a("a",{key:e.id,attrs:{href:"#/product/"+e.id}},[t._v(t._s(e.name)),a("br")])}),0),a("td",[t._v(t._s(e.date.substring(0,10)))]),a("td",[t._v(t._s(e.price)+".00лв")]),a("td",[t._v("\n            "+t._s(e.name)),a("br"),t._v("\n            "+t._s(e.phone)),a("br"),t._v("\n            "+t._s(e.place)),a("br"),t._v("\n            "+t._s(e.address)+"\n            ")]),e.status?a("td",[t._v("Да")]):a("td",[a("button",{staticClass:"button",on:{click:function(a){return t.completeOrder(e.id,s)}}},[t._v("обработване")])])])}),0)])])},Q=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Артикули")]),a("th",[a("abbr",[t._v("Дата")])]),a("th",[a("abbr",[t._v("На Стойност")])]),a("th",[a("abbr",[t._v("Информация")])]),a("th",[a("abbr",[t._v("Обработена")])])])])}],X={data:function(){return{orders:[]}},created:function(){var t=this;R.getAllOrders().then(function(e){t.orders=e.data.reverse()})},methods:{completeOrder:function(t,e){this.orders[e].status=1,R.completeOrder(t).then(function(t){})}}},Y=X,tt=Object(x["a"])(Y,K,Q,!1,null,null,null),et=tt.exports,at=a("db0c"),st=a.n(at),it=a("a4bb"),rt=a.n(it),nt=a("1fca"),ot={extends:nt["a"],props:["chartdata","options"],data:function(){return{orders:[],labels:["January","February","March","April","May","June","July"],data:[40,39,10,40,39,80,40],testData:[]}},methods:{prepData:function(){for(var t=this,e=new Date,a=new Date(Math.min.apply(null,this.orders.map(function(t){return new Date(t.date)}))),s=a;s<=e.addDays(1);)this.testData[s.toISOString().substr(5,5).split("-").reverse().join("-")]=0,s=s.addDays(1);this.orders.forEach(function(e){t.testData[new Date(e.date).toISOString().substr(5,5).split("-").reverse().join("-")]+=e.price}),this.labels=rt()(this.testData),this.data=st()(this.testData)}},created:function(){var t=this;R.getAllOrders().then(function(e){t.orders=e.data,t.prepData(),t.renderChart({labels:t.labels,datasets:[{label:"Продажби в лв.",borderColor:"rgb(54, 162, 235)",backgroundColor:"rgb(54, 162, 235,0.7)",borderWidth:2,type:"line",borderJoinStyle:"miter",lineTension:.1,spanGaps:!1,data:t.data}]},{responsive:!0,maintainAspectRatio:!1})})}},ct=ot,lt=Object(x["a"])(ct,g,C,!1,null,null,null),dt=lt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns",attrs:{id:"wrapper"}},[a("div",{staticClass:"column is-8",attrs:{id:"form"}},[a("div",{staticClass:"field is-horizontal"},[t._m(0),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(1),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.category,expression:"category"}],staticClass:"input",attrs:{type:"text",placeholder:""},domProps:{value:t.category},on:{input:function(e){e.target.composing||(t.category=e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(2),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field has-addons"},[a("p",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"input",attrs:{type:"text",placeholder:""},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(3),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"textarea",attrs:{placeholder:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])])]),a("div",{staticClass:"field is-horizontal"},[t._m(4),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("div",{staticClass:"file"},[a("label",{staticClass:"file-label"},[a("input",{staticClass:"file-input",attrs:{accept:"image/*",type:"file",name:"image"},on:{change:function(e){return t.uploadImage(e)}}}),t._m(5)])])])])])]),a("div",{staticClass:"field is-horizontal"},[a("div",{staticClass:"field-label"}),a("div",{staticClass:"field-body"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:function(e){return t.add()}}},[t._v("\n              Добавяне\n            ")])])])])])]),a("div",{staticClass:"column is-offset-1"},[a("div",{staticClass:"dropdown",class:{"is-active":t.dropdownActive}},[a("div",{staticClass:"dropdown-trigger"},[a("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu"},on:{click:function(e){t.dropdownActive=!t.dropdownActive}}},[a("span",[t._v(t._s(t.itemToRemove))]),t._m(6)])]),a("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu",role:"menu"}},[a("div",{staticClass:"dropdown-content"},t._l(t.products,function(e){return a("a",{key:e.id,staticClass:"dropdown-item",on:{click:function(a){t.itemToRemove=e.name,t.idToRemove=e.id,t.dropdownActive=!1}}},[t._v("\n            "+t._s(e.name)+"\n          ")])}),0)])]),a("button",{staticClass:"button is-primary",on:{click:function(e){return t.remove()}}},[t._v("\n              Премахване\n            ")])])])},ft=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Име")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Категория")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Цена")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"},[t._v("Описание")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field-label is-normal"},[a("label",{staticClass:"label"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"file-cta"},[a("span",{staticClass:"file-icon"},[a("i",{staticClass:"fas fa-upload"})]),a("span",{staticClass:"file-label"},[t._v("\n                    Изображение\n                  ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])}],pt={data:function(){return{data:new FormData,name:"",price:"",description:"",category:"",itemToRemove:"Изберете продукт",idToRemove:-1,dropdownActive:!1}},computed:Object(i["c"])(["products"]),methods:Object(o["a"])({},Object(i["b"])(["fetchAllProducts"]),{uploadImage:function(t){this.data.delete("image"),this.data.append("image",t.target.files[0])},add:function(){var t=this;this.data.append("name",this.name),this.data.append("price",this.price),this.data.append("description",this.description),this.data.append("category",this.category),b.addProduct(this.data).then(function(e){t.$notify({type:"success",text:"Артикулът е добавен"}),location.reload()}).catch(function(e){t.$notify({type:"warn",text:"Грешка! проверете данните"}),t.data.delete("name"),t.data.delete("price"),t.data.delete("description"),t.data.delete("category")})},remove:function(){var t=this;this.idToRemove<0||b.removeProduct(this.idToRemove).then(function(e){t.$notify({type:"success",text:"Артикулът е премахнат"}),location.reload()})}}),created:function(){this.fetchAllProducts()}},mt=pt,vt=Object(x["a"])(mt,ut,ft,!1,null,"784a8cca",null),ht=vt.exports;function bt(t,e,a){localStorage["token"]?0==y.state.currentUser.privilege?a("/"):a():(y.commit("showLoginModal"),a(e.path))}function gt(t,e,a){localStorage["token"]?1==y.state.currentUser.privilege?a("/"):a():(y.commit("showLoginModal"),a(e.path))}s["default"].use(c["a"]);var Ct=new c["a"]({routes:[{path:"/",name:"home",component:L},{path:"/user",component:{render:function(t){return t("router-view")}},beforeEnter:gt,children:[{path:"/user/past-orders",component:F,beforeEnter:gt},{path:"/user/cart",component:N,beforeEnter:gt},{path:"/user/order",component:F,beforeEnter:gt}]},{path:"/admin",component:{render:function(t){return t("router-view")}},beforeEnter:bt,children:[{path:"/admin/orders",component:et,beforeEnter:bt},{path:"/admin/sales",component:dt,beforeEnter:bt},{path:"/admin/addproduct",component:ht,beforeEnter:bt}]},{path:"/product/:id",name:"productView",components:{productView:H},props:{productView:!0}},{path:"/test",component:L}]}),_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"wrapper"}},[a("aside",{staticClass:"menu"},[a("p",{staticClass:"menu-label"},[t._v("Меню")]),a("ul",{staticClass:"menu-list"},[a("li",[a("a",{class:{"is-active":"/"==t.$route.path},attrs:{href:"#/"}},[t._v("Продукти")]),0==t.currentUser.privilege?a("a",{class:{"is-active":t.$route.path.startsWith("/user")},attrs:{href:"#/user/cart"}},[t._v("Поръчка")]):t._e(),1==t.currentUser.privilege?a("a",{class:{"is-active":t.$route.path.startsWith("/admin")},attrs:{href:"#/admin/orders"}},[t._v("Admin Panel")]):t._e()])]),"/"==t.$route.path?a("div",{staticClass:"menuSection"},[a("p",{staticClass:"menu-label"},[t._v("Катеогрии")]),a("ul",{staticClass:"menu-list"},[a("li",[a("ul",[a("li",{staticClass:"categories"},[a("a",{class:{"has-background-info":0==t.category},on:{click:function(e){return t.setCategory(!1)}}},[t._v("Всички\n              ")]),t._l(t.categories,function(e,s){return a("a",{key:s,class:{"has-background-info":t.category==e},on:{click:function(a){return t.setCategory(e)}}},[t._v(t._s(e)+"\n              ")])})],2)])])])]):t._e(),t.$route.path.startsWith("/user")?a("div",{staticClass:"menuSection"},[a("p",{staticClass:"menu-label"},[t._v("Катеогрии")]),a("ul",{staticClass:"menu-list"},[a("li",[a("ul",[a("li",{staticClass:"categories"},[a("a",{class:{"has-background-info":t.$route.path.startsWith("/user/cart")},attrs:{href:"#/user/cart"}},[t._v("Количка")]),a("a",{class:{"has-background-info":t.$route.path.startsWith("/user/past-orders")},attrs:{href:"#/user/past-orders"}},[t._v("Минали Поръчки")])])])])])]):t._e(),t.$route.path.startsWith("/admin")?a("div",{staticClass:"menuSection"},[a("p",{staticClass:"menu-label"},[t._v("Катеогрии")]),a("ul",{staticClass:"menu-list"},[a("li",[a("ul",[a("li",{staticClass:"categories"},[a("a",{class:{"has-background-info":t.$route.path.startsWith("/admin/orders")},attrs:{href:"#/admin/orders"}},[t._v("Поръчки")]),a("a",{class:{"has-background-info":t.$route.path.startsWith("/admin/sales")},attrs:{href:"#/admin/sales"}},[t._v("Продажби")]),a("a",{class:{"has-background-info":t.$route.path.startsWith("/admin/addproduct")},attrs:{href:"#/admin/addproduct"}},[t._v("Добавяне/Премахване на артикул")])])])])])]):t._e()])])},jt=[],wt={name:"Sidebar",data:function(){return{categories:[],fetched:!1,active:!1}},created:function(){this.fetchCategories()},computed:Object(i["c"])(["category","section","currentUser"]),methods:Object(o["a"])({},Object(i["b"])(["setCategory"]),{fetchCategories:function(){var t=this;b.getCategories().then(function(e){t.categories=e.data})}}),watch:{active:function(t,e){e&&e.classList.remove("is-active"),t.classList.add("is-active")}}},yt=wt,kt=(a("75d2"),Object(x["a"])(yt,_t,jt,!1,null,"7edab8a6",null)),Pt=kt.exports,Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal is-active"},[a("div",{staticClass:"modal-background",on:{click:function(e){return e.stopPropagation(),t.hideLoginModal(e)}}}),a("div",{staticClass:"modal-content columns"},[a("div",{staticClass:"wrapper column is-8 is-offset-2"},[a("div",{staticClass:"field"},[a("p",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"E-mail"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._m(0),t._m(1)])]),a("div",{staticClass:"field"},[a("p",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Парола"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(2)])]),a("div",{staticClass:"field"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-success",on:{click:t.Login}},[t._v("Login")])])])])]),a("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:t.hideLoginModal}})])},Ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-envelope"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-right"},[a("i",{staticClass:"fas fa-check"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])}],xt={login:function(t,e){var a=this;return m.a.post(h.a.API_URL+"/login",{email:t,password:e}).then(function(t){localStorage["token"]=t.data.token,a.getCurrentUser().then(function(t){y.commit("setCurrentUser",t.data)})})},getCurrentUser:function(){return m.a.get(h.a.API_URL+"/getSelfData",{headers:{Authorization:"Bearer "+localStorage["token"]}})},logout:function(){localStorage.clear(),y.commit("removeCurrenUser",!1)},checkEmail:function(t){return m.a.get(h.a.API_URL+"/checkEmail",{params:{email:t}})},register:function(t){var e=this,a=t.name,s=t.email,i=t.password;return m.a.post(h.a.API_URL+"/register",{name:a,email:s,password:i}).then(function(t){localStorage["token"]=t.data.token,e.getCurrentUser().then(function(t){y.commit("setCurrentUser",t.data)})})}},Ut={name:"LoginModal",data:function(){return{email:"",password:""}},created:function(){var t=this;window.addEventListener("keydown",function(e){"Escape"==e.key&&t.hideLoginModal()},{once:!0})},methods:Object(o["a"])({},Object(i["b"])(["hideLoginModal"]),{Login:function(){var t=this;xt.login(this.email,this.password).then(function(e){t.hideLoginModal()}).catch(function(e){t.$notify({type:"warn",text:"Невалидни данни"})})}})},Lt=Ut,$t=(a("d2d6"),Object(x["a"])(Lt,Et,Ot,!1,null,null,null)),Mt=$t.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[t._m(0),a("div",{staticClass:"is-hidden-desktop"},[t.currentUser?t._e():a("a",{staticClass:"button is-link",on:{click:t.showRegisterModal}},[t._v(" Регистрация ")]),t.currentUser?a("a",{staticClass:"button is-light",on:{click:function(e){return t.removeCurrentUser()}}},[t._v("Изход")]):a("a",{staticClass:"button is-light",on:{click:t.showLoginModal}},[t._v("Вход")])]),a("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[a("div",{staticClass:"navbar-end"},[t.currentUser?a("div",[0==t.currentUser.privilege?a("div",{staticClass:"dropdown is-hoverable"},[a("div",{staticClass:"dropdown-trigger"},[a("button",{staticClass:"button",attrs:{"aria-haspopup":"true","aria-controls":"dropdown-menu4"}},[a("span",{staticClass:"icon"},[a("i",{staticClass:"fas fa-shopping-cart",on:{click:function(e){t.cartDropdown=!t.cartDropdown}}})])])]),a("div",{staticClass:"dropdown-menu",attrs:{id:"dropdown-menu8",role:"menu"}},[t.cart.length>0?a("div",{staticClass:"dropdown-content"},t._l(t.cart,function(e,s){return a("div",{key:s,staticClass:"dropdown-item cart-item columns",attrs:{item_id:e.product_id}},[a("figure",{staticClass:"column is-4 image "},[a("img",{attrs:{src:t.api+"/img/"+e.image,alt:"Placeholder image"}})]),a("p",{staticClass:"column is-6"},[t._v("\n                      "+t._s(e.name)+"\n                    ")]),a("i",{staticClass:"column is-1 fas fa-times",on:{click:function(e){return t.removeFromCart(s)}}})])}),0):a("div",{staticClass:"dropdown-content"},[a("p",[t._v(" количката е празна")])])])]):t._e(),t._v("\n        Здравей  "),a("a",{attrs:{href:"#/user/cart"}},[t._v(t._s(t.currentUser.name)+"   ")]),a("a",{staticClass:"button is-light",on:{click:function(e){return t.removeCurrentUser()}}},[t._v("изход")])]):a("div",{staticClass:"navbar-item",attrs:{id:"login-register"}},[a("div",{staticClass:"buttons"},[a("a",{staticClass:"button is-link",on:{click:t.showRegisterModal}},[a("strong",[t._v("Ргистрация")])]),a("a",{staticClass:"button is-light",on:{click:t.showLoginModal}},[t._v("Вход")])])])])])])},At=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"navbar-brand is-hidden-mobile"},[s("figure",{staticClass:"image is-128x128"},[s("img",{attrs:{src:a("4c4a"),height:"200"}})])])}],St={name:"Navbar",data:function(){return{api:h.a.API_URL,cartDropdown:!1}},computed:Object(i["c"])(["currentUser","cart"]),created:function(){},methods:Object(i["b"])(["removeCurrentUser","showLoginModal","showRegisterModal","removeFromCart"])},zt=St,Nt=(a("5dfc"),Object(x["a"])(zt,Rt,At,!1,null,null,null)),Dt=Nt.exports,Tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal is-active"},[a("div",{staticClass:"modal-background",on:{click:function(e){return e.stopPropagation(),t.hideRegisterModal(e)}}}),a("div",{staticClass:"modal-content"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Име")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Email")]),a("div",{staticClass:"control has-icons-left has-icons-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",class:{"is-success":1==t.isEmailGood,"is-danger":-1==t.isEmailGood},attrs:{type:"text",placeholder:"",value:"bulma"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._m(0),t._m(1)]),a("p",{staticClass:"help",class:{"is-success":1==t.isEmailGood,"is-danger":-1==t.isEmailGood}},[t._v("\n        "+t._s(t.emailAvailable)+"\n      ")])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Парола")]),a("p",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Парола"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._m(2)])]),a("div",{staticClass:"field"},[a("p",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordRepeat,expression:"passwordRepeat"}],staticClass:"input",attrs:{type:"password",placeholder:"Повторете паролата"},domProps:{value:t.passwordRepeat},on:{input:function(e){e.target.composing||(t.passwordRepeat=e.target.value)}}}),t._m(3)]),t.password!=t.passwordRepeat?a("p",{staticClass:"help is-danger"},[t._v("\n        Паролите не съвпадат\n      ")]):t._e()]),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",on:{click:t.register}},[t._v("\n          Регистрация\n        ")])]),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-text",on:{click:function(e){return t.hideRegisterModal()}}},[t._v("Отказ")])])])]),a("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){return t.hideRegisterModal()}}})])},It=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-user"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-right"},[a("i",{staticClass:"fas fa-check"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"icon is-small is-left"},[a("i",{staticClass:"fas fa-lock"})])}],Gt={name:"RegisterModal",data:function(){return{name:"",email:"",password:"",passwordRepeat:"",emailAvailable:"",isEmailGood:0}},methods:Object(o["a"])({},Object(i["b"])(["hideRegisterModal"]),{validateEmail:function(t){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(t).toLowerCase())},register:function(){var t=this;1==this.isEmailGood&&this.password==this.passwordRepeat&&this.name.length>=2?xt.register({name:this.name,email:this.email,password:this.password}).then(function(){t.hideRegisterModal()}).catch(function(e){t.$notify({type:"warn",text:"Грешка"})}):this.$notify({type:"warn",text:"Невалидни данни"})}}),watch:{email:function(){var t=this;if(this.email.length<=4)return this.emailAvailable="",void(this.isEmailGood=0);this.validateEmail(this.email)?xt.checkEmail(this.email).then(function(e){1==e.data.exists?(t.emailAvailable="Мейлът е зает",t.isEmailGood=-1):(t.emailAvailable="",t.isEmailGood=1)}):(this.emailAvailable="Невалиден мейл",this.isEmailGood=-1)}}},Bt=Gt,Ft=Object(x["a"])(Bt,Tt,It,!1,null,null,null),Wt=Ft.exports,Jt={name:"app",components:{Sidebar:Pt,LoginModal:Mt,Navbar:Dt,RegisterModal:Wt,ProductView:H},computed:Object(i["c"])(["showLoginModal","showRegisterModal","currentProduct","section"]),data:function(){return{filter:!1,location:location.hash}},methods:Object(o["a"])({},Object(i["b"])(["setCurrentUser","removeCurrentUser"]),{changeFilter:function(t){this.filter=t}}),created:function(){var t=this;localStorage["token"]&&(this.setCurrentUser({}),xt.getCurrentUser().then(function(e){t.setCurrentUser(e.data)}).catch(function(e){t.removeCurrentUser()}))}},Vt=Jt,qt=(a("034f"),Object(x["a"])(Vt,r,n,!1,null,null,null)),Zt=qt.exports,Ht=a("ee98"),Kt=a.n(Ht);Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e},s["default"].config.productionTip=!0,s["default"].config.api="",s["default"].use(i["a"]),s["default"].use(Kt.a),new s["default"]({store:y,router:Ct,render:function(t){return t(Zt)}}).$mount("#app")},"5dfc":function(t,e,a){"use strict";var s=a("30d6"),i=a.n(s);i.a},"64a9":function(t,e,a){},"75d2":function(t,e,a){"use strict";var s=a("ad19"),i=a.n(s);i.a},"99b2":function(t,e,a){"use strict";var s=a("cfe2"),i=a.n(s);i.a},a1bc:function(t,e){t.exports={API_URL:"",RELEASE:!0}},a1eb:function(t,e,a){},ad19:function(t,e,a){},cfe2:function(t,e,a){},d2d6:function(t,e,a){"use strict";var s=a("a1eb"),i=a.n(s);i.a}});
//# sourceMappingURL=app.18fcd766.js.map